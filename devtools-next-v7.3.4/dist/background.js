"use strict";(()=>{var E=Object.create;var _=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var I=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var T=(t,r)=>()=>(t&&(r=t(t=0)),r);var k=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var R=(t,r,s,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of L(r))!P.call(t,u)&&u!==s&&_(t,u,{get:()=>r[u],enumerable:!(f=M(r,u))||f.enumerable});return t};var D=(t,r,s)=>(s=t!=null?E(I(t)):{},R(r||!t||!t.__esModule?_(s,"default",{value:t,enumerable:!0}):s,t));var y,d=T(()=>{y={TERM_PROGRAM:"iTerm.app",NODE:"/Users/lujunjie/.nvm/versions/node/v20.12.2/bin/node",INIT_CWD:"/Users/lujunjie/code/github/vuejs/devtools-next/packages/chrome-extension",TERM:"xterm-256color",SHELL:"/bin/zsh",npm_config___registry_npm_gf_com_cn__email:"lujunjie@gf.com.cn",npm_config___registry_npm_gf_com_cn__always_auth:"",npm_package_dependencies__vue_devtools_shared:"workspace:^",npm_config_shamefully_hoist:"true",npm_package_scripts_dev:"cross-env NODE_ENV=development tsup --watch",npm_package_devDependencies__vitejs_plugin_vue:"^5.0.5",npm_package_private:"true",npm_config_registry:"https://registry.npmjs.org/",npm_config_home:"https://www.npmjs.org",LD_LIBRARY_PATH:"/Users/lujunjie/.gvm/pkgsets/go1.19/global/overlay/lib:",npm_package_license:"MIT",PNPM_SCRIPT_SRC_DIR:"/Users/lujunjie/code/github/vuejs/devtools-next/packages/chrome-extension",npm_config_strict_peer_dependencies:"",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/pnpm@9.4.0/node_modules/pnpm/bin/pnpm.cjs",npm_config_frozen_lockfile:"",PATH:"/Users/lujunjie/code/github/vuejs/devtools-next/packages/chrome-extension/node_modules/.bin:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/pnpm@9.4.0/node_modules/pnpm/dist/node-gyp-bin:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.bin:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.bin:/Users/lujunjie/Library/pnpm/global/5/.pnpm/pnpm@9.4.0/node_modules/pnpm/dist/node-gyp-bin:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.bin:/Users/lujunjie/Library/pnpm:/Users/lujunjie/.jenv/shims:/Users/lujunjie/.jenv/bin:/Users/lujunjie/.gvm/pkgsets/go1.19/global/bin:/Users/lujunjie/.gvm/gos/go1.19/bin:/Users/lujunjie/.gvm/pkgsets/go1.19/global/overlay/bin:/Users/lujunjie/.gvm/bin:/Users/lujunjie/.gvm/bin:/Users/lujunjie/.pyenv/shims:/Users/lujunjie/software/apache-maven-3.5.2/bin:/Users/lujunjie/.nvm/versions/node/v20.12.2/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/usr/local/go/bin:/Library/Apple/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Users/lujunjie/.cargo/bin",npm_package_author:"webfansplz",PWD:"/Users/lujunjie/code/github/vuejs/devtools-next/packages/chrome-extension",npm_command:"run-script",npm_lifecycle_event:"build",npm_package_name:"@vue/devtools-chrome-extension",npm_package_devDependencies_vue:"^3.4.29",NODE_PATH:"/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/tsup@8.1.0_@microsoft+api-extractor@7.43.0_@types+node@20.14.5__@swc+core@1.5.29_postcss@8.4.38_typescript@5.4.5/node_modules/tsup/dist/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/tsup@8.1.0_@microsoft+api-extractor@7.43.0_@types+node@20.14.5__@swc+core@1.5.29_postcss@8.4.38_typescript@5.4.5/node_modules/tsup/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/tsup@8.1.0_@microsoft+api-extractor@7.43.0_@types+node@20.14.5__@swc+core@1.5.29_postcss@8.4.38_typescript@5.4.5/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/src/bin/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/src/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/cross-env@7.0.3/node_modules/cross-env/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/cross-env@7.0.3/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/pnpm@9.4.0/node_modules/pnpm/bin/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/pnpm@9.4.0/node_modules/pnpm/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/pnpm@9.4.0/node_modules:/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/node_modules",npm_package_scripts_build:"cross-env NODE_ENV=production tsup",npm_config___registry_npm_gf_com_cn__username:"lujunjie",TURBO_HASH:"47e362a92b2b47cd",NODE_ENV:"production",npm_config_side_effects_cache:"",npm_config_node_gyp:"/Users/lujunjie/code/github/vuejs/devtools-next/node_modules/.pnpm/pnpm@9.4.0/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"7.0.0-beta.1",SHLVL:"0",HOME:"/Users/lujunjie",npm_package_type:"module",npm_package_dependencies__vue_devtools_core:"workspace:^",npm_package_dependencies__vue_devtools_kit:"workspace:^",npm_lifecycle_script:"cross-env NODE_ENV=production tsup",npm_config_user_agent:"pnpm/9.4.0 npm/? node/v20.12.2 darwin x64",npm_package_files_0:"dist",COLORTERM:"truecolor",npm_config_shell_emulator:"true",npm_node_execpath:"/Users/lujunjie/.nvm/versions/node/v20.12.2/bin/node"}});var v=k((X,w)=>{"use strict";d();w.exports=U;function A(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function U(t){if(t=t||{},t.circles)return V(t);let r=new Map;if(r.set(Date,o=>new Date(o)),r.set(Map,(o,c)=>new Map(f(Array.from(o),c))),r.set(Set,(o,c)=>new Set(f(Array.from(o),c))),t.constructorHandlers)for(let o of t.constructorHandlers)r.set(o[0],o[1]);let s=null;return t.proto?p:u;function f(o,c){let e=Object.keys(o),n=new Array(e.length);for(let a=0;a<e.length;a++){let i=e[a],l=o[i];typeof l!="object"||l===null?n[i]=l:l.constructor!==Object&&(s=r.get(l.constructor))?n[i]=s(l,c):ArrayBuffer.isView(l)?n[i]=A(l):n[i]=c(l)}return n}function u(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return f(o,u);if(o.constructor!==Object&&(s=r.get(o.constructor)))return s(o,u);let c={};for(let e in o){if(Object.hasOwnProperty.call(o,e)===!1)continue;let n=o[e];typeof n!="object"||n===null?c[e]=n:n.constructor!==Object&&(s=r.get(n.constructor))?c[e]=s(n,u):ArrayBuffer.isView(n)?c[e]=A(n):c[e]=u(n)}return c}function p(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return f(o,p);if(o.constructor!==Object&&(s=r.get(o.constructor)))return s(o,p);let c={};for(let e in o){let n=o[e];typeof n!="object"||n===null?c[e]=n:n.constructor!==Object&&(s=r.get(n.constructor))?c[e]=s(n,p):ArrayBuffer.isView(n)?c[e]=A(n):c[e]=p(n)}return c}}function V(t){let r=[],s=[],f=new Map;if(f.set(Date,e=>new Date(e)),f.set(Map,(e,n)=>new Map(p(Array.from(e),n))),f.set(Set,(e,n)=>new Set(p(Array.from(e),n))),t.constructorHandlers)for(let e of t.constructorHandlers)f.set(e[0],e[1]);let u=null;return t.proto?c:o;function p(e,n){let a=Object.keys(e),i=new Array(a.length);for(let l=0;l<a.length;l++){let b=a[l],g=e[b];if(typeof g!="object"||g===null)i[b]=g;else if(g.constructor!==Object&&(u=f.get(g.constructor)))i[b]=u(g,n);else if(ArrayBuffer.isView(g))i[b]=A(g);else{let h=r.indexOf(g);h!==-1?i[b]=s[h]:i[b]=n(g)}}return i}function o(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return p(e,o);if(e.constructor!==Object&&(u=f.get(e.constructor)))return u(e,o);let n={};r.push(e),s.push(n);for(let a in e){if(Object.hasOwnProperty.call(e,a)===!1)continue;let i=e[a];if(typeof i!="object"||i===null)n[a]=i;else if(i.constructor!==Object&&(u=f.get(i.constructor)))n[a]=u(i,o);else if(ArrayBuffer.isView(i))n[a]=A(i);else{let l=r.indexOf(i);l!==-1?n[a]=s[l]:n[a]=o(i)}}return r.pop(),s.pop(),n}function c(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return p(e,c);if(e.constructor!==Object&&(u=f.get(e.constructor)))return u(e,c);let n={};r.push(e),s.push(n);for(let a in e){let i=e[a];if(typeof i!="object"||i===null)n[a]=i;else if(i.constructor!==Object&&(u=f.get(i.constructor)))n[a]=u(i,c);else if(ArrayBuffer.isView(i))n[a]=A(i);else{let l=r.indexOf(i);l!==-1?n[a]=s[l]:n[a]=c(i)}}return r.pop(),s.pop(),n}}});d();d();d();var S=typeof navigator!="undefined",x=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof global!="undefined"?global:{},H=typeof x.chrome!="undefined"&&!!x.chrome.devtools,K=S&&x.self!==x.top,G=typeof navigator!="undefined"&&navigator.userAgent.toLowerCase().includes("electron"),W=typeof window!="undefined"&&!!window.__NUXT__;d();var O=D(v(),1);var j=t=>`${+t}`===t;var J=(0,O.default)({circles:!0});d();var m={};function B(t){var u;let{tab:r,name:s,port:f}=t;return(u=m[r])!=null||(m[r]={devtools:null,userApp:null}),m[r][s]=f,m[r]}function C(t){let{devtools:r,userApp:s}=m[t],f=!1;function u(c){f||(y.NODE_ENV==="development"&&console.log("%cdevtools -> userApp","color:#888;",c),s.postMessage(c))}r.onMessage.addListener(u);function p(c){f||(y.NODE_ENV==="development"&&console.log("%cuserApp -> devtools","color:#888;",c),r.postMessage(c))}s.onMessage.addListener(p);function o(){if(f=!0,!m[t])return;let{devtools:c,userApp:e}=m[t];c.onMessage.removeListener(u),e.onMessage.removeListener(p),c==null||c.disconnect(),e==null||e.disconnect(),delete m[t]}r.onDisconnect.addListener(o),s.onDisconnect.addListener(o)}chrome.runtime.onConnect.addListener(t=>{let r={tab:"",name:"",port:t};j(t.name)?(r.tab=t.name,r.name="devtools",chrome.scripting.executeScript({target:{tabId:+t.name},files:["/dist/proxy.js"]},f=>{})):(r.tab=t.sender.tab.id,r.name="userApp");let s=B(r);s.devtools&&s.userApp&&C(r.tab)});chrome.runtime.onMessage.addListener((t,r)=>{if(r.tab&&t.vueDetected){let s=t.nuxtDetected?".nuxt":"";chrome.action.setIcon({tabId:r.tab.id,path:{16:chrome.runtime.getURL(`icons/16${s}.png`),48:chrome.runtime.getURL(`icons/48${s}.png`),128:chrome.runtime.getURL(`icons/128${s}.png`)}}),chrome.action.setPopup({tabId:r.tab.id,popup:t.devtoolsEnabled?chrome.runtime.getURL(`popups/enabled${s}.html`):chrome.runtime.getURL(`popups/disabled${s}.html`)})}});})();
